DefaultFpb.gql
#import "~/gql/fragments/Image"

fragment FlexibleBlocks on ElementInterface {
    blocks: defaultFpbBlocks {
        id
        typeHandle

        ...BlockDivider
        ...BlockMediaGallery
        ...BlockMediaWithText
        ...BlockPullQuote
        ...BlockRichText
        ...BlockSimpleCards
        ...BlockCta
        ...BlockCtaBlockTwoUp
        ...BlockHelpTopicCards
    }
}

# Define all blocks here as fragments

fragment BlockDivider on allFlexiblePageBlocks_divider_BlockType {
    id
    divider
}

fragment BlockMediaGallery on allFlexiblePageBlocks_mediaGallery_BlockType {
    id
    mediaGallery {
        id
        ... on mediaGallery_image_BlockType {
            id
            image {
                id
                url
            }
            captionTitle
            captionText
            altText
        }
    }
}

fragment BlockMediaWithText on allFlexiblePageBlocks_mediaWithText_BlockType {
    id
    mediaWithText {
        ... on mediaWithText_mediaWithText_BlockType {
            id
            sectionHeader
            shortDescription
            buttonText
            mediaType
            mediaWithTextLink
            downloadAssetLink {
                id
                url
            }
            image {
                ...Image
            }
        }
    }
}

fragment BlockPullQuote on allFlexiblePageBlocks_pullQuote_BlockType {
    id
    pullQuote {
        ... on pullQuote_pullQuote_BlockType {
            text
            attribution
        }
    }
}

fragment BlockRichText on allFlexiblePageBlocks_richText_BlockType {
    richText
}

fragment BlockSimpleCards on allFlexiblePageBlocks_simpleCards_BlockType {
    id
    simpleCards {
        ... on simpleCards_simpleCard_BlockType {
            id
            title: titleSimpleCard
            contentLink {
                id
                url
                title
                text: summary
            }
            summary
            externalLink
        }
    }
}

fragment BlockCta on allFlexiblePageBlocks_ctaBlockContentWidth_BlockType {
    innerBlocks: ctaBlockContentWidth {
        ... on ctaBlockContentWidth_ctaBlockContentWidth_BlockType {
            id
            title: titleCtaContentWidth
            description: shortDescription
            buttonUrl: urlButtonUrl
            buttonText: urlButtonText
            icon
        }
    }
}






fragment BlockCtaBlockTwoUp on allFlexiblePageBlocks_ctaBlock2Up_BlockType {
    id
    ctaBlock2Up {
        id
        ... on ctaBlock2Up_ctaBlock2Up_BlockType {
            id
            text: shortDescription
            name: urlButtonText
            to: urlButtonUrl
            title: titleCTA2Up
            svgName: icon
            backgroundColor
            isSizeSmall
        }
    }
}



fragment BlockHelpTopicCards on allFlexiblePageBlocks_helpTopicCards_BlockType {
    id
    helpTopicCards {
        ... on helpTopicCards_helpTopicCards_BlockType {
            id
            contentLink {
                id
                url
                to: uri
                title
                text: shortDescription
                iconName: illustrationsResourcesAndServices
            }
        }
    }
}
