import{f as K,G as W,x as g,H as X,y as f,_ as Y,o as Z,a as ee,I as A,J as G,j as c,b as I,i as u,L as ne,R as ie,K as ae,T as te,M as re,N as oe,n as le}from"./ByTLSTAx.js";import{d as se}from"./DKVnf8_P.js";var p={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MenuItem"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NodeInterface"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"name"},name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"to"},name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"classes"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"target"},name:{kind:"Name",value:"newWindow"},arguments:[],directives:[]}]}}],loc:{start:0,end:108}};p.loc.source={body:`fragment MenuItem on NodeInterface {
    id
    name: title
    to: url
    classes
    target: newWindow
}
`,name:"GraphQL request",locationOffset:{line:1,column:1}};function y(e,n){if(e.kind==="FragmentSpread")n.add(e.name.value);else if(e.kind==="VariableDefinition"){var i=e.type;i.kind==="NamedType"&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(a){y(a,n)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(a){y(a,n)}),e.definitions&&e.definitions.forEach(function(a){y(a,n)})}var R={};(function(){p.definitions.forEach(function(n){if(n.name){var i=new Set;y(n,i),R[n.name.value]=i}})})();function P(e,n){for(var i=0;i<e.definitions.length;i++){var a=e.definitions[i];if(a.name&&a.name.value==n)return a}}function de(e,n){var i={kind:e.kind,definitions:[P(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=R[n]||new Set,l=new Set,r=new Set;for(a.forEach(function(t){r.add(t)});r.size>0;){var d=r;r=new Set,d.forEach(function(t){if(!l.has(t)){l.add(t);var o=R[t]||new Set;o.forEach(function(s){r.add(s)})}})}return l.forEach(function(t){var o=P(e,t);o&&i.definitions.push(o)}),i}de(p,"MenuItem");var m={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FooterPrimaryItems"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"navHandle"},value:{kind:"StringValue",value:"footerPrimary",block:!1}},{kind:"Argument",name:{kind:"Name",value:"level"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MenuItem"},directives:[]},{kind:"Field",name:{kind:"Name",value:"children"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MenuItem"},directives:[]}]}}]}}]}}],loc:{start:0,end:199}};m.loc.source={body:`#import "../gql/fragments/MenuItem.gql"

query FooterPrimaryItems {
    nodes(navHandle: "footerPrimary", level: 1) {
        ...MenuItem
        children {
            ...MenuItem
        }
    }
}
`,name:"GraphQL request",locationOffset:{line:1,column:1}};var L={};function ce(e){return e.filter(function(n){if(n.kind!=="FragmentDefinition")return!0;var i=n.name.value;return L[i]?!1:(L[i]=!0,!0)})}m.definitions=m.definitions.concat(ce(p.definitions));function b(e,n){if(e.kind==="FragmentSpread")n.add(e.name.value);else if(e.kind==="VariableDefinition"){var i=e.type;i.kind==="NamedType"&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(a){b(a,n)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(a){b(a,n)}),e.definitions&&e.definitions.forEach(function(a){b(a,n)})}var M={};(function(){m.definitions.forEach(function(n){if(n.name){var i=new Set;b(n,i),M[n.name.value]=i}})})();function x(e,n){for(var i=0;i<e.definitions.length;i++){var a=e.definitions[i];if(a.name&&a.name.value==n)return a}}function ue(e,n){var i={kind:e.kind,definitions:[x(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=M[n]||new Set,l=new Set,r=new Set;for(a.forEach(function(t){r.add(t)});r.size>0;){var d=r;r=new Set,d.forEach(function(t){if(!l.has(t)){l.add(t);var o=M[t]||new Set;o.forEach(function(s){r.add(s)})}})}return l.forEach(function(t){var o=x(e,t);o&&i.definitions.push(o)}),i}ue(m,"FooterPrimaryItems");var v={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FooterSockItems"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"navHandle"},value:{kind:"StringValue",value:"footerSockLinks",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MenuItem"},directives:[]}]}}]}}],loc:{start:0,end:135}};v.loc.source={body:`#import "../gql/fragments/MenuItem.gql"

query FooterSockItems {
    nodes(navHandle: "footerSockLinks") {
        ...MenuItem
    }
}
`,name:"GraphQL request",locationOffset:{line:1,column:1}};var V={};function fe(e){return e.filter(function(n){if(n.kind!=="FragmentDefinition")return!0;var i=n.name.value;return V[i]?!1:(V[i]=!0,!0)})}v.definitions=v.definitions.concat(fe(p.definitions));function w(e,n){if(e.kind==="FragmentSpread")n.add(e.name.value);else if(e.kind==="VariableDefinition"){var i=e.type;i.kind==="NamedType"&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(a){w(a,n)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(a){w(a,n)}),e.definitions&&e.definitions.forEach(function(a){w(a,n)})}var $={};(function(){v.definitions.forEach(function(n){if(n.name){var i=new Set;w(n,i),$[n.name.value]=i}})})();function H(e,n){for(var i=0;i<e.definitions.length;i++){var a=e.definitions[i];if(a.name&&a.name.value==n)return a}}function me(e,n){var i={kind:e.kind,definitions:[H(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=$[n]||new Set,l=new Set,r=new Set;for(a.forEach(function(t){r.add(t)});r.size>0;){var d=r;r=new Set,d.forEach(function(t){if(!l.has(t)){l.add(t);var o=$[t]||new Set;o.forEach(function(s){r.add(s)})}})}return l.forEach(function(t){var o=H(e,t);o&&i.definitions.push(o)}),i}me(v,"FooterSockItems");var k={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FooterSponsorItems"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"footerSponsor"},name:{kind:"Name",value:"globalSets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"meapFunders_GlobalSet"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"funders"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"funders_funder_BlockType"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"funderName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"funderLogo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"mediaAndDocuments_Asset"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Image"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"funderUrl"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:413}};k.loc.source={body:`#import "../gql/fragments/Image.gql"

query FooterSponsorItems {
  footerSponsor: globalSets {
    ... on meapFunders_GlobalSet {
      id
      funders {
        ... on funders_funder_BlockType {
          id
          funderName
          funderLogo {
            id
            ... on mediaAndDocuments_Asset {
              ...Image
            }
          }
          funderUrl
        }
      }
    }
  }
}
`,name:"GraphQL request",locationOffset:{line:1,column:1}};var Q={};function ve(e){return e.filter(function(n){if(n.kind!=="FragmentDefinition")return!0;var i=n.name.value;return Q[i]?!1:(Q[i]=!0,!0)})}k.definitions=k.definitions.concat(ve(se.definitions));function F(e,n){if(e.kind==="FragmentSpread")n.add(e.name.value);else if(e.kind==="VariableDefinition"){var i=e.type;i.kind==="NamedType"&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(a){F(a,n)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(a){F(a,n)}),e.definitions&&e.definitions.forEach(function(a){F(a,n)})}var q={};(function(){k.definitions.forEach(function(n){if(n.name){var i=new Set;F(n,i),q[n.name.value]=i}})})();function U(e,n){for(var i=0;i<e.definitions.length;i++){var a=e.definitions[i];if(a.name&&a.name.value==n)return a}}function ke(e,n){var i={kind:e.kind,definitions:[U(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=q[n]||new Set,l=new Set,r=new Set;for(a.forEach(function(t){r.add(t)});r.size>0;){var d=r;r=new Set,d.forEach(function(t){if(!l.has(t)){l.add(t);var o=q[t]||new Set;o.forEach(function(s){r.add(s)})}})}return l.forEach(function(t){var o=U(e,t);o&&i.definitions.push(o)}),i}ke(k,"FooterSponsorItems");var D={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Globals"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"globalSets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"askALibrarian_GlobalSet"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"askALibrarianTitle"},name:{kind:"Name",value:"titleGeneral"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"askALibrarianText"},name:{kind:"Name",value:"summary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"buttonUrl"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"buttonText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"buttonUrl"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"meapCallToAction_GlobalSet"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleGeneral"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"summary"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"button"},name:{kind:"Name",value:"buttonUrl"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"buttonText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"buttonUrl"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:512}};D.loc.source={body:`query Globals {
    globalSets {
        ... on askALibrarian_GlobalSet {
            id
            askALibrarianTitle: titleGeneral
            askALibrarianText: summary
            buttonUrl {
                buttonText
                buttonUrl
            }
        }
        ... on meapCallToAction_GlobalSet {
            id
            name
            titleGeneral
            summary
            button: buttonUrl {
                buttonText
                buttonUrl
            }
        }
    }
}
`,name:"GraphQL request",locationOffset:{line:1,column:1}};function N(e,n){if(e.kind==="FragmentSpread")n.add(e.name.value);else if(e.kind==="VariableDefinition"){var i=e.type;i.kind==="NamedType"&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(a){N(a,n)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(a){N(a,n)}),e.definitions&&e.definitions.forEach(function(a){N(a,n)})}var O={};(function(){D.definitions.forEach(function(n){if(n.name){var i=new Set;N(n,i),O[n.name.value]=i}})})();function C(e,n){for(var i=0;i<e.definitions.length;i++){var a=e.definitions[i];if(a.name&&a.name.value==n)return a}}function Se(e,n){var i={kind:e.kind,definitions:[C(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=O[n]||new Set,l=new Set,r=new Set;for(a.forEach(function(t){r.add(t)});r.size>0;){var d=r;r=new Set,d.forEach(function(t){if(!l.has(t)){l.add(t);var o=O[t]||new Set;o.forEach(function(s){r.add(s)})}})}return l.forEach(function(t){var o=C(e,t);o&&i.definitions.push(o)}),i}Se(D,"Globals");var S={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"HeaderMainMenuItems"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"secondary"},name:{kind:"Name",value:"nodes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"navHandle"},value:{kind:"StringValue",value:"micrositeSecondaryMenu",block:!1}},{kind:"Argument",name:{kind:"Name",value:"level"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MenuItem"},directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"primary"},name:{kind:"Name",value:"nodes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"navHandle"},value:{kind:"StringValue",value:"meapPrimaryMenu",block:!1}},{kind:"Argument",name:{kind:"Name",value:"level"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MenuItem"},directives:[]},{kind:"Field",name:{kind:"Name",value:"children"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MenuItem"},directives:[]}]}}]}}]}}],loc:{start:0,end:307}};S.loc.source={body:`#import "../gql/fragments/MenuItem.gql"

query HeaderMainMenuItems {
    secondary: nodes(navHandle: "micrositeSecondaryMenu", level: 1) {
        ...MenuItem
    }
    primary: nodes(navHandle: "meapPrimaryMenu", level: 1) {
        ...MenuItem
        children {
            ...MenuItem
        }
    }
}
`,name:"GraphQL request",locationOffset:{line:1,column:1}};var j={};function pe(e){return e.filter(function(n){if(n.kind!=="FragmentDefinition")return!0;var i=n.name.value;return j[i]?!1:(j[i]=!0,!0)})}S.definitions=S.definitions.concat(pe(p.definitions));function E(e,n){if(e.kind==="FragmentSpread")n.add(e.name.value);else if(e.kind==="VariableDefinition"){var i=e.type;i.kind==="NamedType"&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(a){E(a,n)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(a){E(a,n)}),e.definitions&&e.definitions.forEach(function(a){E(a,n)})}var T={};(function(){S.definitions.forEach(function(n){if(n.name){var i=new Set;E(n,i),T[n.name.value]=i}})})();function z(e,n){for(var i=0;i<e.definitions.length;i++){var a=e.definitions[i];if(a.name&&a.name.value==n)return a}}function ge(e,n){var i={kind:e.kind,definitions:[z(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=T[n]||new Set,l=new Set,r=new Set;for(a.forEach(function(t){r.add(t)});r.size>0;){var d=r;r=new Set,d.forEach(function(t){if(!l.has(t)){l.add(t);var o=T[t]||new Set;o.forEach(function(s){r.add(s)})}})}return l.forEach(function(t){var o=z(e,t);o&&i.definitions.push(o)}),i}ge(S,"HeaderMainMenuItems");function B(e){return e.filter(n=>Object.keys(n).length!==0)}function he(){const{$graphql:e}=K(),n=W(),i=g("global-globals",async()=>await e.default.request(D)),a=g("global-header",async()=>await e.default.request(S)),l=g("global-footer-primary",async()=>await e.default.request(m)),r=g("global-footer-sock",async()=>await e.default.request(v)),d=g("global-footer-sponsor",async()=>await e.default.request(k));X(()=>{if(a.data.value&&Object.keys(n.header||{}).length===0&&(n.header=a.data.value),i.data.value&&Object.keys(n.globals||{}).length===0){const s=B(i.data.value?.globalSets||[]),_=Object.fromEntries(s?.map(h=>[h.handle,h]));n.globals=_}if(l.data.value&&Object.keys(n.footerPrimary||{}).length===0&&(n.footerPrimary=l.data.value),r.data.value&&Object.keys(n.footerSock||{}).length===0&&(n.footerSock=r.data.value),d.data.value&&Object.keys(n.footerSponsor||{}).length===0){const s=B(d.data.value?.footerSponsor||[]);console.log("meap sponsor data",s),n.footerSponsor=s[0]}});const t=f(()=>a.pending.value||i.pending.value||l.pending.value||r.pending.value||d.pending.value),o=f(()=>a.error.value||i.error.value||l.error.value||r.error.value||d.error.value);return{pending:t,error:o}}const ye={class:"header-main"},be={class:"layout-content"},we={__name:"default",setup(e){const n=W();he();const i=f(()=>n.header&&n.header.primary?n.header.primary:[]),a=f(()=>n.header&&n.header.secondary?n.header.secondary:[]),l=f(()=>(n.winWidth||0)<=1024),r=f(()=>["layout","layout-default",{"has-scrolled":n.sTop},{"has-scrolled-past-header":n.sTop>=150}]);return(d,t)=>{const o=ne,s=ie,_=ae,h=te,J=oe;return Z(),ee("div",{class:le(c(r))},[A(I("header",ye,[u(o,{class:"brand-bar"}),u(s,{items:c(a),"is-microsite":!0},null,8,["items"]),u(_,{items:c(i),class:"primary",title:"Modern Endangered Archives Program",acronym:"MEAP"},null,8,["items"])],512),[[G,!c(l)]]),A(I("header",null,[u(o,{class:"brand-bar"}),u(h,{"primary-nav":c(i),"secondary-nav":c(a),"current-path":"/about/foo/bar",title:"Modern Endangered Archives Program",acronym:"MEAP"},null,8,["primary-nav","secondary-nav"])],512),[[G,c(l)]]),I("div",be,[re(d.$slots,"default",{},void 0,!0)]),u(J)],2)}}},Ee=Y(we,[["__scopeId","data-v-e4e77ca6"]]);export{Ee as default};
