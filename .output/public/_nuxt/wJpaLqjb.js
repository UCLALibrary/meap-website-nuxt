import{_ as D,f as q,z as G,w as R,g as y,r as T,A as V,o as d,a as $,j as i,l as m,C as M,q as f,E as B,i as k,m as h,V as O,p as L,t as j,F as z,x as Q,y as S}from"./ByTLSTAx.js";import{_ as U}from"./D4Uph03E.js";import{d as H}from"./DKVnf8_P.js";import{d as J}from"./Y0fXfMW6.js";import{s as K}from"./BJ56Xtbm.js";var o={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GeneralContentDetail"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"entry"},arguments:[{kind:"Argument",name:{kind:"Name",value:"section"},value:{kind:"StringValue",value:"meapGeneralContentPage",block:!1}},{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"meapGeneralContentPage_meapGeneralContentPage_Entry"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"uri"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"summary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"heroImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"heroImage_heroImage_BlockType"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Image"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"parent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"uri"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"MEAPAllFpb"},directives:[]}]}}]}}]}}],loc:{start:0,end:713}};o.loc.source={body:`#import "../gql/fragments/Image.gql"
#import "../gql/fragments/collections/MEAPAllFpb.gql"

query GeneralContentDetail($slug: [String!]) {
    entry(section: "meapGeneralContentPage", slug: $slug) {
        ... on meapGeneralContentPage_meapGeneralContentPage_Entry {
            id
            title
            slug
            uri
            summary
            heroImage {
                ... on heroImage_heroImage_BlockType {
                    id
                    image {
                        ...Image
                    }
                }
            }
            parent {
                slug
                title
                uri
            }
            ...MEAPAllFpb
        }
    }
}
`,name:"GraphQL request",locationOffset:{line:1,column:1}};var N={};function F(n){return n.filter(function(t){if(t.kind!=="FragmentDefinition")return!0;var a=t.name.value;return N[a]?!1:(N[a]=!0,!0)})}o.definitions=o.definitions.concat(F(H.definitions));o.definitions=o.definitions.concat(F(J.definitions));function g(n,t){if(n.kind==="FragmentSpread")t.add(n.name.value);else if(n.kind==="VariableDefinition"){var a=n.type;a.kind==="NamedType"&&t.add(a.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(r){g(r,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(r){g(r,t)}),n.definitions&&n.definitions.forEach(function(r){g(r,t)})}var p={};(function(){o.definitions.forEach(function(t){if(t.name){var a=new Set;g(t,a),p[t.name.value]=a}})})();function b(n,t){for(var a=0;a<n.definitions.length;a++){var r=n.definitions[a];if(r.name&&r.name.value==t)return r}}function W(n,t){var a={kind:n.kind,definitions:[b(n,t)]};n.hasOwnProperty("loc")&&(a.loc=n.loc);var r=p[t]||new Set,u=new Set,l=new Set;for(r.forEach(function(s){l.add(s)});l.size>0;){var c=l;l=new Set,c.forEach(function(s){if(!u.has(s)){u.add(s);var e=p[s]||new Set;e.forEach(function(v){l.add(v)})}})}return u.forEach(function(s){var e=b(n,s);e&&a.definitions.push(e)}),a}W(o,"GeneralContentDetail");const X={id:"main",class:"page page-general-content"},Y={__name:"[...slug]",async setup(n){let t,a;const{$graphql:r}=q(),l=G().path.replace(/^\/|\/$/g,""),{data:c,error:s}=([t,a]=R(async()=>Q(`general-content-${l}`,async()=>await r.default.request(o,{slug:l.substring(l.lastIndexOf("/")+1)}))),t=await t,a(),t);if(s.value)throw y({statusCode:404,statusMessage:"Page not found.",fatal:!0});if(!c.value.entry)throw y({statusCode:404,statusMessage:"Page Not Found",fatal:!0});const e=T(U(c.value,"entry",{}));V({title:e.value?e.value.title:"... loading"});const v=S(()=>e.value.parent&&e.value.parent.uri?`/${K(e.value.parent.uri)}`:"/"),w=S(()=>e.value.parent&&e.value.parent.title?e.value.parent.title:"Modern Endangered Archives Program");return(I,Z)=>{const x=M,C=B,E=O,_=L,P=j,A=z;return d(),$("main",X,[i(e)?(d(),m(x,{key:0,title:i(e).title,class:"breadcrumb",to:i(v),"parent-title":i(w)},null,8,["title","to","parent-title"])):f("",!0),i(e)&&(!i(e).heroImage||i(e).heroImage.length==0)?(d(),m(C,{key:1,class:"banner-text",category:i(e).format,title:i(e).title,text:i(e).summary},null,8,["category","title","text"])):f("",!0),k(_,{class:"section-banner"},{default:h(()=>[i(e)&&i(e).heroImage&&i(e).heroImage.length==1?(d(),m(E,{key:0,media:i(e).heroImage[0].image[0],category:i(e).format,title:i(e).title,text:i(e).summary},null,8,["media","category","title","text"])):f("",!0)]),_:1}),k(_,{theme:"divider"},{default:h(()=>[k(P,{class:"divider-way-finder",color:"visit"})]),_:1}),i(e)?(d(),m(A,{key:2,class:"flexible-content",blocks:i(e).blocks},null,8,["blocks"])):f("",!0)])}}},re=D(Y,[["__scopeId","data-v-db332749"]]);export{re as default};
